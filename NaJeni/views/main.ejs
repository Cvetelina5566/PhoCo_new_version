<!-- main.html -->
<!DOCTYPE html>
<html>

<head>
  <title>Main</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">
  <style>
    .body {
      margin: 0px;
    }

    .firstDiv {
      padding-top: 70px;
      padding-bottom: 20px;
      border-bottom-width: 4px;
      inline-size: 40%;
      border-bottom-style: solid;
      border-image: linear-gradient(to right, darkorchid, rgb(13, 229, 204)) 1;
      margin: 15px 32px
    }

    .secoundDiv {
      border-width: 4px;
      border-style: solid;
      border-image: linear-gradient(to right, darkorchid, rgb(13, 229, 204)) 1;
      display: inline-block;
      background-color: white;

    }

    .left {
      float: left;
      width: 40%;
      margin: 0;
      height: 100vh;
      background-color: white;
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      /* margin-bottom: 25px; */
      /* width:310px;
                height:210px; */
    }

    .right {
      float: right;
      width: 56%;
      height: 100%;
    }

    .album {
      margin-bottom: 60px;
    }
  </style>
</head>

<body>
  <div class="left">
    <button id="log-out-btn" class="secoundDiv"
      style="padding: 1px 15px; margin-top: 15px;margin-right:15px;margin-left: 150px;">Log out</button>
    <a href="createalbum-p1"><button class="secoundDiv"
        style="padding: 1px 15px; margin-bottom: 30px;margin-right:15px;margin-left: 17px;">Create an album</button></a>

    <h1 class="firstDiv" style="font-family: 'Lobster';  font-size: 40px;">Здравейте, <%=name%>
    </h1>
    <br>
    <p style="font-size: 23px; margin: 15px 32px; font-family: philosopher regular;">Готови ли сте да се потопите в
      света на спомените, мечтите и детството?</p>
  </div>

  <div class="right">
    <% if (Object.keys(accessibleAlbums).length > 0) { %>
    <% Object.entries(accessibleAlbums).forEach(([albumName, albumDetails])=> { %>
      <div class="album">
        <h3 style="font-size: 30px;  margin-left: 20px;">
          <%= albumDetails.realName %>
        </h3>
        <img style="height: 400px; width: 700px; margin-left: 20px; margin-bottom: 15px;"
          src="<%= albumDetails.imageUrl %>" alt="<%= albumName %> cover image" width="800px" height="400px">
          <br>
        <a href="/viewalbum?albumName=<%= albumName %>" style="font-family: Lobster;font-size: 25px; text-decoration: underline; margin-left: 20px; color:black">
          <%= albumDetails.description %>
        </a>
      </div>
      <% }) %>
      <%}%>
  </div>

</body>
<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io()
  document.getElementById('log-out-btn').addEventListener('click', () => {
    socket.emit('log-out')
  })
  socket.on('redirect', (url) => {
    window.location.href = url;
  });
</script>
</div>

</html>